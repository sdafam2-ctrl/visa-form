<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>نموذج بيانات التأشيرة</title>
<style>
body{
    font-family: Arial;
    background:#f5f5f5;
    padding:20px;
}
.container{
    max-width:700px;
    margin:auto;
    background:#fff;
    padding:25px;
    border-radius:12px;
    box-shadow:0 0 20px rgba(0,0,0,0.1);
}
h2{
    text-align:center;
    margin-bottom:25px;
    color:#003399;
}
label{
    font-weight:bold;
    margin-top:10px;
    display:block;
}
input,select{
    width:100%;
    padding:10px;
    margin-top:6px;
    border:1px solid #ccc;
    border-radius:6px;
}
button{
    margin-top:20px;
    padding:12px;
    width:100%;
    background:#003399;
    color:white;
    border:0;
    border-radius:6px;
    font-size:18px;
    cursor:pointer;
}
.preview-img{
    max-width:160px;
    margin-top:10px;
    border:1px solid #ccc;
    border-radius:6px;
}
</style>
</head>
<body>

<div class="container">
<h2>تسجيل بيانات تأشيرة</h2>

<label>رقم الجواز</label>
<input id="passport" type="text">

<label>رقم الطلب</label>
<input id="request" type="text">

<label>رقم التأشيرة</label>
<input id="visa" type="text">

<label>المهنة</label>
<input id="job" type="text">

<label>صورة الجواز</label>
<input id="passportImg" type="file" accept="image/*">
<img id="preview1" class="preview-img">

<label>الصورة الشخصية</label>
<input id="personalImg" type="file" accept="image/*">
<img id="preview2" class="preview-img">

<button onclick="saveHTML()">حــفــظ</button>
</div>

<script>
function readImage(input, preview) {
    input.addEventListener("change", () => {
        let file = input.files[0];
        let reader = new FileReader();
        reader.onload = () => preview.src = reader.result;
        if(file) reader.readAsDataURL(file);
    });
}

readImage(document.getElementById("passportImg"), document.getElementById("preview1"));
readImage(document.getElementById("personalImg"), document.getElementById("preview2"));

function saveHTML(){
    let passport   = document.getElementById("passport").value;
    let request    = document.getElementById("request").value;
    let visa       = document.getElementById("visa").value;
    let job        = document.getElementById("job").value;

    let passportImg = document.getElementById("preview1").src;
    let personalImg = document.getElementById("preview2").src;

    let finalHTML = `
    <html dir="rtl">
    <head>
        <meta charset="UTF-8">
        <title>بيانات تأشيرة محفوظة</title>
        <style>
        body{
            font-family:Arial;
            background:#f8f8f8;
            padding:20px;
        }
        .box{
            background:white;
            padding:20px;
            border-radius:12px;
            max-width:600px;
            margin:auto;
            box-shadow:0 0 10px rgba(0,0,0,0.1);
        }
        img{max-width:200px;margin-top:10px;border:1px solid #ccc;border-radius:6px;}
        h2{text-align:center;color:#003399;}
        p{font-size:18px;}
        </style>
    </head>
    <body>
    <div class="box">
        <h2>بيانات التأشيرة المحفوظة</h2>
        <p><b>رقم الجواز:</b> ${passport}</p>
        <p><b>رقم الطلب:</b> ${request}</p>
        <p><b>رقم التأشيرة:</b> ${visa}</p>
        <p><b>المهنة:</b> ${job}</p>

        <p><b>صورة الجواز:</b></p>
        <img src="${passportImg}">

        <p><b>الصورة الشخصية:</b></p>
        <img src="${personalImg}">
    </div>
    </body>
    </html>
    `;

    let blob = new Blob([finalHTML], {type: "text/html"});
    let link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "visa_data.html";
    link.click();
}
</script>

</body>
</html>
